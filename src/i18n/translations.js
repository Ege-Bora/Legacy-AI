// i18n translations for Life Legacy app
import React from 'react';

export const translations = {
  en: {
    // App Navigation
    home: 'Home',
    timeline: 'Timeline',
    book: 'Book',
    settings: 'Settings',

    // Home Screen
    welcome_back: 'Welcome back, {name}',
    ready_to_capture: 'Ready to capture more memories?',
    
    // Quick Memory
    quick_memory: 'Quick Memory',
    quick_memory_description: 'Tap for text, hold to record voice',
    quick_text_memory: 'Quick Text Memory',
    text_memory_placeholder: 'Write your memory here...',
    drag_up_to_cancel: 'Drag up to cancel',
    
    // New Memory
    new_memory: 'New Memory',
    new_memory_description: 'Create a freeform memory',
    how_to_capture: 'How would you like to capture your memory?',
    capture_subtitle: 'Share whatever comes to mind - no prompts, no questions, just your thoughts.',
    write_it_down: 'Write it down',
    write_description: 'Type your memory, thoughts, or story',
    speak_it_out: 'Speak it out',
    speak_description: 'Record your voice sharing the memory',
    
    // Interview
    start_interview: 'Start Interview',
    interview_description: 'AI-guided life story session',
    interview_mode: 'Interview Mode',
    choose_interview_type: 'Choose Interview Type',
    voice_interview: 'Voice Interview',
    text_interview: 'Text Interview',
    
    // Voice Recording
    voice_memory: 'Voice Memory',
    recording: 'Recording...',
    voice_recording_captured: 'Voice recording captured',
    recording_completed: 'Recording completed!',
    recording_failed: 'Failed to start recording',
    recording_stop_failed: 'Failed to stop recording',
    tap_to_record: 'Tap to start recording',
    tap_to_stop: 'Tap to stop',
    record_again: 'Record Again',
    
    // Permissions
    permission_denied: 'Permission Denied',
    microphone_permission_required: 'Microphone permission is required to record',
    microphone_permission: 'Microphone Permission',
    permission_granted: 'Granted',
    permission_denied_short: 'Denied',
    
    // Actions
    save: 'Save',
    saving: 'Saving...',
    cancel: 'Cancel',
    discard: 'Discard',
    done: 'Done',
    next: 'Next',
    skip: 'Skip',
    retry: 'Retry',
    
    // Memory Management
    add_to_book: 'Add to Book',
    memory_saved: 'Memory Saved!',
    text_memory_saved_success: 'Your text memory has been saved',
    voice_memory_saved: 'Your voice memory has been saved',
    voice_memory_saved_with_book: 'Your voice memory has been saved and added to your book',
    save_failed: 'Failed to save memory',
    
    // Timeline
    all_memories: 'All Memories',
    recent_memories: 'Recent Memories',
    search_memories: 'Search memories...',
    no_memories: 'No memories yet',
    no_memories_description: 'Start capturing your life stories',
    
    // Status
    pending: 'Pending',
    uploading: 'Uploading',
    transcribing: 'Transcribing...',
    completed: 'Completed',
    failed: 'Failed',
    
    // Book
    your_book: 'Your Book',
    book_progress: 'Book Progress',
    chapters: 'Chapters',
    pages: 'Pages',
    words: 'Words',
    export_book: 'Export Book',
    
    // Settings
    profile_account: 'Profile & Account',
    language_region: 'Language & Region',
    audio_permissions: 'Audio & Permissions',
    app_preferences: 'App Preferences',
    support_legal: 'Support & Legal',
    
    // Errors
    error: 'Error',
    network_error: 'Network error occurred',
    upload_failed: 'Upload failed',
    transcription_failed: 'Transcription failed',
    
    // Time
    just_now: 'Just now',
    minutes_ago: '{count} minutes ago',
    hours_ago: '{count} hours ago',
    days_ago: '{count} days ago',
    
    // Common
    loading: 'Loading...',
    refresh: 'Refresh',
    close: 'Close',
    ok: 'OK',
  },

  tr: {
    // App Navigation
    home: 'Ana Sayfa',
    timeline: 'Zaman Çizelgesi',
    book: 'Kitabınız',
    settings: 'Ayarlar',

    // Home Screen
    welcome_back: 'Tekrar hoş geldin, {name}',
    ready_to_capture: 'Daha fazla anı yakalamaya hazır mısın?',
    
    // Quick Memory
    quick_memory: 'Hızlı Anı',
    quick_memory_description: 'Metin için dokun, ses için basılı tut',
    quick_text_memory: 'Hızlı Metin Anısı',
    text_memory_placeholder: 'Anınızı buraya yazın...',
    drag_up_to_cancel: 'İptal etmek için yukarı sürükle',
    
    // New Memory
    new_memory: 'Yeni Anı',
    new_memory_description: 'Serbest bir anı oluştur',
    how_to_capture: 'Anınızı nasıl yakalamak istiyorsunuz?',
    capture_subtitle: 'Aklınıza geleni paylaşın - sorular yok, sadece düşünceleriniz.',
    write_it_down: 'Yaz',
    write_description: 'Anınızı, düşüncelerinizi veya hikayenizi yazın',
    speak_it_out: 'Söyle',
    speak_description: 'Sesli olarak anınızı paylaşın',
    
    // Interview
    start_interview: 'Röportaj Başlat',
    interview_description: 'AI rehberliğinde yaşam hikayesi oturumu',
    interview_mode: 'Röportaj Modu',
    choose_interview_type: 'Röportaj Türünü Seç',
    voice_interview: 'Sesli Röportaj',
    text_interview: 'Yazılı Röportaj',
    
    // Voice Recording
    voice_memory: 'Sesli Anı',
    recording: 'Kaydediliyor...',
    voice_recording_captured: 'Ses kaydı yakalandı',
    recording_completed: 'Kayıt tamamlandı!',
    recording_failed: 'Kayıt başlatılamadı',
    recording_stop_failed: 'Kayıt durdurulamadı',
    tap_to_record: 'Kayıt için dokun',
    tap_to_stop: 'Durdurmak için dokun',
    record_again: 'Tekrar Kaydet',
    
    // Permissions
    permission_denied: 'İzin Reddedildi',
    microphone_permission_required: 'Kayıt için mikrofon izni gerekli',
    microphone_permission: 'Mikrofon İzni',
    permission_granted: 'Verildi',
    permission_denied_short: 'Reddedildi',
    
    // Actions
    save: 'Kaydet',
    saving: 'Kaydediliyor...',
    cancel: 'İptal',
    discard: 'Sil',
    done: 'Tamam',
    next: 'İleri',
    skip: 'Geç',
    retry: 'Tekrar Dene',
    
    // Memory Management
    add_to_book: 'Kitaba Ekle',
    memory_saved: 'Anı Kaydedildi!',
    text_memory_saved_success: 'Metin anınız kaydedildi',
    voice_memory_saved: 'Sesli anınız kaydedildi',
    voice_memory_saved_with_book: 'Sesli anınız kaydedildi ve kitabınıza eklendi',
    save_failed: 'Anı kaydedilemedi',
    
    // Timeline
    all_memories: 'Tüm Anılar',
    recent_memories: 'Son Anılar',
    search_memories: 'Anıları ara...',
    no_memories: 'Henüz anı yok',
    no_memories_description: 'Yaşam hikayelerinizi yakalamaya başlayın',
    
    // Status
    pending: 'Bekliyor',
    uploading: 'Yükleniyor',
    transcribing: 'Transkript oluşturuluyor...',
    completed: 'Tamamlandı',
    failed: 'Başarısız',
    
    // Book
    your_book: 'Kitabınız',
    book_progress: 'Kitap İlerlemesi',
    chapters: 'Bölümler',
    pages: 'Sayfalar',
    words: 'Kelimeler',
    export_book: 'Kitabı Dışa Aktar',
    
    // Settings
    profile_account: 'Profil ve Hesap',
    language_region: 'Dil ve Bölge',
    audio_permissions: 'Ses ve İzinler',
    app_preferences: 'Uygulama Tercihleri',
    support_legal: 'Destek ve Yasal',
    
    // Errors
    error: 'Hata',
    network_error: 'Ağ hatası oluştu',
    upload_failed: 'Yükleme başarısız',
    transcription_failed: 'Transkripsiyon başarısız',
    
    // Time
    just_now: 'Az önce',
    minutes_ago: '{count} dakika önce',
    hours_ago: '{count} saat önce',
    days_ago: '{count} gün önce',
    
    // Common
    loading: 'Yükleniyor...',
    refresh: 'Yenile',
    close: 'Kapat',
    ok: 'Tamam',
  }
};

// i18n utility functions
export class I18n {
  constructor(language = 'en') {
    this.language = language;
  }

  setLanguage(language) {
    this.language = language;
  }

  t(key, params = {}) {
    const keys = key.split('.');
    let translation = translations[this.language];
    
    for (const k of keys) {
      if (translation && typeof translation === 'object') {
        translation = translation[k];
      } else {
        break;
      }
    }

    // Fallback to English if not found
    if (!translation) {
      translation = translations.en;
      for (const k of keys) {
        if (translation && typeof translation === 'object') {
          translation = translation[k];
        } else {
          translation = key; // Return key if not found
          break;
        }
      }
    }

    // Replace parameters
    if (typeof translation === 'string' && Object.keys(params).length > 0) {
      return translation.replace(/\{(\w+)\}/g, (match, param) => {
        return params[param] !== undefined ? params[param] : match;
      });
    }

    return translation || key;
  }

  // Get current language
  getLanguage() {
    return this.language;
  }

  // Get all available languages
  getAvailableLanguages() {
    return [
      { code: 'en', name: 'English', nativeName: 'English' },
      { code: 'tr', name: 'Turkish', nativeName: 'Türkçe' }
    ];
  }
}

// Create singleton instance
export const i18n = new I18n('en');

// React hook for using i18n
export const useTranslation = () => {
  const [language, setLanguageState] = React.useState(i18n.getLanguage());

  const setLanguage = (lang) => {
    i18n.setLanguage(lang);
    setLanguageState(lang);
  };

  const t = (key, params = {}) => i18n.t(key, params);

  return {
    t,
    language,
    setLanguage,
    availableLanguages: i18n.getAvailableLanguages()
  };
};